<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil</title>
    <style>
              
    </style>
</head>
<body>
    <div class="container">
        <h1>Váš profil</h1>
        <div>
            <p><strong>Jméno:</strong> <span id="firstName">Načítám...</span></p>
            <p><strong>Příjmení:</strong> <span id="lastName">Načítám...</span></p>
            <p><strong>Přezdívka:</strong> <span id="nickname">Načítám...</span></p>
        </div>
        <!-- Další obsah profilu -->
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyAu1PLSU2rnSLNdfQcshBSNESqM7svzyRQ",
            authDomain: "chatboom-95647.firebaseapp.com",
            databaseURL: "https://chatboom-95647-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "chatboom-95647",
            storageBucket: "chatboom-95647.appspot.com",
            messagingSenderId: "458271134858",
            appId: "1:458271134858:web:5e09d3329ba81626830973",
            measurementId: "G-KS97KKQ3EH"
        };

        firebase.initializeApp(firebaseConfig);

        const auth = firebase.auth();
        const database = firebase.database();

        auth.onAuthStateChanged(user => {
            if (user) {
                const userId = user.uid;
                database.ref('users/' + userId).once('value')
                    .then((snapshot) => {
                        const userDetails = snapshot.val();
                        if (userDetails) {
                            document.getElementById('firstName').textContent = userDetails.firstName || 'Není vyplněno';
                            document.getElementById('lastName').textContent = userDetails.lastName || 'Není vyplněno';
                            document.getElementById('nickname').textContent = userDetails.nickname || 'Není vyplněno';
                        }
                    })
                    .catch((error) => {
                        console.error('Error fetching user details:', error);
                    });
            } else {
                console.log('No user is signed in.');
                // Zde můžete přidat přesměrování nebo jinou logiku pro nepřihlášené uživatele
            }
        });
    </script>
</body>
</html>